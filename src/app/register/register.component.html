<div class="container">
  <h1>Register</h1>
  <form (ngSubmit)="onSubmit()"  #registrationForm="ngForm" class="col-xs-12 col-sm-8 col-md-6">

    <div [hidden]="!error" class="alert alert-danger">
      {{ error }}
    </div>

    <div class="form-group">
      <label for="email">Username</label>
      <input type="text" class="form-control" id="username" required [(ngModel)]="model.username" name="username" #username="ngModel" pattern="^[a-zA-Z0-9/_/-]+$">
       <div [hidden]="username.valid || username.pristine"
             class="alert alert-danger">
          A username is required. Usernames may only consist of letters, numbers, underscores, and dashes.
        </div>
    </div>
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" id="firstName" [(ngModel)]="model.name.firstName" name="firstName">
    </div>
    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName" [(ngModel)]="model.name.lastName" name="lastName">
    </div>

    <div class="form-group">
      <label for="year">Year</label>
      <select class="form-control" id="year" [(ngModel)]="model.classInfo.year" name="year">
        <option value="">Prefer not to choose</option>
        <option *ngFor="let year of years" [value]="year"> {{ getYearString(year) }} </option>
      </select>
    </div>

    <div class="form-group">
      <label for="class">Graduation Year</label>
      <input type="text" class="form-control" id="class" placeholder="20XX" [(ngModel)]="model.classInfo.class" name="class">
    </div>

    <div class="form-group">
      <label for="majors">Majors</label>
      <input type="text" class="form-control" id="majors" placeholder="Computer Science, ..." [(ngModel)]="majors" name="majors">
      <p class="help-block">Enter your majors in a comma separated list</p>
    </div>

    <div class="form-group">
      <label for="majors">Minors</label>
      <input type="text" class="form-control" id="majors" placeholder="Mathematics, ..." [(ngModel)]="minors" name="minors">
      <p class="help-block">Enter your minors in a comma separated list</p>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" required placeholder="Password" [(ngModel)]="model.password" name="password" #password="ngModel">
       <div [hidden]="password.valid || password.pristine"
             class="alert alert-danger">
          A password is required
        </div>
    </div>

    <button type="submit" class="btn btn-default" [disabled]="!registrationForm.form.valid">Register</button>
  </form>
</div>